<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Ubuntu 上 vim 使用及其配置 · Leyar's Notebook</title><meta name="description" content="Ubuntu 上 vim 使用及其配置 - Leyar"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.leyar.me/atom.xml" title="Leyar's Notebook"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/iLeyar" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Ubuntu 上 vim 使用及其配置</h1><div class="post-info">2015年5月1日</div><div class="post-content"><blockquote>
<p>自从换了 Ubuntu，Sublime-text3 不能完美的解决中文输入法的问题一直困扰着我。系统自带的文本编辑器功能又太单一,无法满足我的需求。偶然间发现 vim 的强大，并且也支持添加例如 emmet，markdown 之类的插件，于是决定好好开始折腾这个传说中的神器。</p>
</blockquote>
<h2 id="vim-快捷键"><a href="#vim-快捷键" class="headerlink" title="vim 快捷键"></a>vim 快捷键</h2><p>使用 vim 自带的 Vim 教程就基本满足日常使用了，我是每天跟着教程都动手操作几遍，慢慢锻炼肌肉记忆。现在也能顺畅的进行进行文本编辑了。</p>
<p>方法：在终端输入如下命令即可开启训练之旅啦。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vimtutor</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><p>这里列出一些我自己使用的插件及配置。</p>
<ul>
<li><p><a href="https://github.com/gmarik/Vundle.vim" target="_blank" rel="external">Vundle.vim</a>:vim 扩展管理器，类似于 sublime-text 的 package control, 安装方法略。:vim 扩展管理器，类似于 sublime-text 的 package control, 安装方法自行移步作者 github。</p>
<p>vim 中操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">:PluginList        # 列出配置的插件</div><div class="line">:PluginInstall     # 安装插件;后面添加 &quot;!&quot; 则等同于 :PluginUpdate </div><div class="line">:PluginUpdate      # 更新插件</div><div class="line">:PluginSearch xx   # 搜索插件, xx 为搜索关键词；后面添加 &quot;!&quot; 则可刷新本地缓存</div><div class="line">:PluginClean       # 卸载插件;后面添加 &quot;!&quot; 则直接卸载。 </div><div class="line">:h vundle          # 查看帮助</div></pre></td></tr></table></figure>
<p>Terminal 中操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim +PluginInstall +qall</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p><a href="https://github.com/mattn/emmet-vim/" target="_blank" rel="external">emmet-vim</a>:这是我在 sublime-text 3 中必备的神器。具体也不作介绍，Google 就可以搜到一大堆实用教程。<br>这里留下某个参考教程：<a href="http://www.zfanw.com/blog/zencoding-vim-tutorial-chinese.html" target="_blank" rel="external">Emmet.vim 教程</a><br>vim 中查看帮助：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:help emmet</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/plasticboy/vim-markdown" target="_blank" rel="external">vim-markdown</a>:支持语法高亮，批量修改 header 大小等，更多功能还在深入研究中..</p>
</li>
<li><p><a href="https://github.com/junegunn/goyo.vim" target="_blank" rel="external">Goyo.vim</a>:与下两个插件一起搭配，即可进入优雅的写作模式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- :Goyo              # 开启写作模式，也可使用 F12 快捷键进入</div><div class="line">- :Goyo [width]      # 开启并设置宽度，默认宽度为 80</div><div class="line">- :Goyo!             # 关闭写作模式，也可以使用 :q[uit], :clo[se], :tabc[lose], 或者 :Goyo</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/junegunn/seoul256.vim" target="_blank" rel="external">seoul256.vim</a>:一个优雅漂亮的配色。</p>
</li>
<li><p><a href="https://github.com/junegunn/limelight.vim" target="_blank" rel="external">limelight.vim</a>:在写作模式中开启，调节背景字体暗度。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">:Limelight[0.0~1.0]        # 开启并设置暗度</div><div class="line">:Limelight!                # 关闭</div><div class="line">:Limelight!![0.0~1.0]      # 开关</div></pre></td></tr></table></figure>
<p>某些配色如果没有生效，则加入如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">g:limelight_conceal_ctermfg   或者 </div><div class="line">g:limelight_conceal_guifg</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/scrooloose/syntastic" target="_blank" rel="external">Syntastic</a>: 语法检查</p>
</li>
<li><a href="https://github.com/bling/vim-airline" target="_blank" rel="external">vim-airline</a>: 美化状态栏，可以使用 powerline-fonts，需要单独安装 powerline 的字体补充包，方法见<a href="https://powerline.readthedocs.org/en/latest/installation/linux.html#font-installation" target="_blank" rel="external">Documentation</a></li>
<li><a href="https://github.com/Valloric/YouCompleteMe" target="_blank" rel="external">YouCompleteMe</a>: 自动补全工具，其他参考<a href="http://blog.marchtea.com/archives/161" target="_blank" rel="external">vim 自动补全</a></li>
<li><a href="https://github.com/godlygeek/tabular" target="_blank" rel="external">Tabular</a>: 强迫症患者必备，详细操作见<a href="http://vimcasts.org/episodes/aligning-text-with-tabular-vim/" target="_blank" rel="external">演示视频</a></li>
<li><a href="https://github.com/kien/ctrlp.vim" target="_blank" rel="external">ctrlp.vim</a>: 文件查找工具</li>
<li><a href="https://github.com/tpope/vim-fugitive" target="_blank" rel="external">vim-fugitive</a> </li>
</ul>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>这里放一份我的个人配置，配置文件为 ~/.vimrc</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div></pre></td><td class="code"><pre><div class="line">filetype off                  &quot; required</div><div class="line"></div><div class="line">&quot; set the runtime path to include Vundle and initialize</div><div class="line">set rtp+=~/.vim/bundle/Vundle.vim</div><div class="line">call vundle#begin()</div><div class="line"></div><div class="line">Plugin &apos;gmarik/Vundle.vim&apos;</div><div class="line"></div><div class="line">Plugin &apos;tpope/vim-fugitive&apos;</div><div class="line">Plugin &apos;mattn/emmet-vim&apos;</div><div class="line">Plugin &apos;git://git.wincent.com/command-t.git&apos;</div><div class="line">Plugin &apos;plasticboy/vim-markdown&apos;</div><div class="line">Plugin &apos;scrooloose/syntastic&apos;</div><div class="line">Plugin &apos;scrooloose/nerdtree&apos;</div><div class="line">Plugin &apos;Valloric/YouCompleteMe&apos;</div><div class="line">Plugin &apos;kien/ctrlp.vim&apos;</div><div class="line"></div><div class="line">Plugin &apos;jdevera/vim-cs-explorer&apos;</div><div class="line">Plugin &apos;junegunn/limelight.vim&apos;</div><div class="line">Plugin &apos;junegunn/seoul256.vim&apos;</div><div class="line">Plugin &apos;junegunn/goyo.vim&apos;</div><div class="line">Plugin &apos;bling/vim-airline&apos;</div><div class="line">Plugin &apos;godlygeek/tabular&apos;</div><div class="line"></div><div class="line">call vundle#end()            &quot; required</div><div class="line">filetype plugin indent on    &quot; required</div><div class="line">&quot; To ignore plugin indent changes, instead use:</div><div class="line">&quot;filetype plugin on</div><div class="line"></div><div class="line">&quot; Brief help</div><div class="line">&quot; :PluginList       - lists configured plugins</div><div class="line">&quot; :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate</div><div class="line">&quot; :PluginSearch foo - searches for foo; append `!` to refresh local cache</div><div class="line">&quot; :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal</div><div class="line"></div><div class="line">&quot; see :h vundle for more details or wiki for FAQ</div><div class="line">&quot; Put your non-Plugin stuff after this line</div><div class="line"></div><div class="line">let g:vim_markdown_folding_disabled = 1</div><div class="line">autocmd BufNewFile,BufReadPost *.md set filetype=markdown</div><div class="line">&quot;Used as $x^2$, $$x^2$$, escapable as \$x\$ and \$\$x\$\$.</div><div class="line">let g:vim_markdown_math = 1</div><div class="line">let g:vim_markdown_frontmatter = 1</div><div class="line">let g:vim_markdown_no_default_key_mappings=1</div><div class="line"></div><div class="line">&quot;nnoremap &lt;Leader&gt;w :Goyo&lt;CR&gt;</div><div class="line">map &lt;silent&gt; &lt;F12&gt; :Goyo&lt;CR&gt;</div><div class="line">autocmd User GoyoEnter Limelight</div><div class="line">autocmd User GoyoLeave Limelight!</div><div class="line">let g:goyo_width = 90</div><div class="line">let g:goyo_margin_top = 4</div><div class="line">let g:goyo_margin_bottom = 4</div><div class="line">let g:goyo_linenr = 0</div><div class="line"></div><div class="line">&quot; Color name (:help cterm-colors) or ANSI code</div><div class="line">let g:limelight_conceal_ctermfg = &apos;gray&apos;</div><div class="line">let g:limelight_conceal_ctermfg = 240</div><div class="line"></div><div class="line">&quot; Color name (:help gui-colors) or RGB color</div><div class="line">let g:limelight_conceal_guifg = &apos;DarkGray&apos;</div><div class="line">let g:limelight_conceal_guifg = &apos;#777777&apos;</div><div class="line"></div><div class="line">&quot; Default: 0.5</div><div class="line">let g:limelight_default_coefficient = 0.7</div><div class="line"></div><div class="line">map &lt;leader&gt;d :ColorSchemeExplorer&lt;CR&gt;</div><div class="line"></div><div class="line">&quot; seoul256 (dark):</div><div class="line">&quot; Range:   233 (darkest) ~ 239 (lightest)</div><div class="line">&quot; Default: 237</div><div class="line">colo seoul256</div><div class="line">let g:seol256_background = 233</div><div class="line"></div><div class="line">&quot; emmet:</div><div class="line">let g:user_emmet_install_global = 0</div><div class="line">autocmd FileType html,css EmmetInstall</div><div class="line">let g:user_emmet_expandabbr_key = &apos;&lt;Tab&gt;&apos;</div><div class="line"></div><div class="line">set backspace=indent,eol,start</div><div class="line">set autoindent</div><div class="line">set nu!</div><div class="line">syntax enable</div><div class="line">syntax on</div><div class="line">set ai!</div><div class="line">set showmatch</div><div class="line">set incsearch</div><div class="line">set ruler</div><div class="line">set smartindent</div><div class="line">set laststatus=2</div><div class="line">set cursorline </div><div class="line">set foldmethod=indent</div><div class="line">set mouse=v</div><div class="line">set showcmd</div><div class="line">set hlsearch</div><div class="line">set nocompatible</div><div class="line">set fileencodings=utf-8,gb18030,gbk,big5</div><div class="line"></div><div class="line">&quot; Syntastic</div><div class="line">set statusline+=%#warningmsg#</div><div class="line">set statusline+=%&#123;SyntasticStatuslineFlag()&#125;</div><div class="line">set statusline+=%*</div><div class="line"></div><div class="line">let g:syntastic_always_populate_loc_list = 1</div><div class="line">let g:syntastic_auto_loc_list = 1</div><div class="line">let g:syntastic_check_on_open = 1</div><div class="line">let g:syntastic_check_on_wq = 0</div><div class="line"></div><div class="line">&quot; The NerdTree</div><div class="line">autocmd StdinReadPre * let s:std_in=1</div><div class="line">autocmd VimEnter * if argc() == 0 &amp;&amp; !exists(&quot;s:std_in&quot;) | NERDTree | endif</div><div class="line">autocmd bufenter * if (winnr(&quot;$&quot;) == 1 &amp;&amp; exists(&quot;b:NERDTreeType&quot;) &amp;&amp; b:NERDTreeType == &quot;primary&quot;) | q | endif</div><div class="line"></div><div class="line">map &lt;C-n&gt; :NERDTreeToggle&lt;CR&gt;</div><div class="line"></div><div class="line">&quot;Tabular</div><div class="line">let mapleader=&apos;,&apos;</div><div class="line">if exists(&quot;:Tabularize&quot;)</div><div class="line"> nmap &lt;Leader&gt;a= :Tabularize /=&lt;CR&gt;</div><div class="line"> vmap &lt;Leader&gt;a= :Tabularize /=&lt;CR&gt;</div><div class="line"> nmap &lt;Leader&gt;a: :Tabularize /:\zs&lt;CR&gt;</div><div class="line"> vmap &lt;Leader&gt;a: :Tabularize /:\zs&lt;CR&gt;</div><div class="line">endif</div><div class="line"></div><div class="line">inoremap &lt;silent&gt; &lt;Bar&gt;   &lt;Bar&gt;&lt;Esc&gt;:call &lt;SID&gt;align()&lt;CR&gt;a</div><div class="line"></div><div class="line">function! s:align()</div><div class="line"> let p = &apos;^\s*|\s.*\s|\s*$&apos;</div><div class="line"> if exists(&apos;:Tabularize&apos;) &amp;&amp; getline(&apos;.&apos;) =~# &apos;^\s*|&apos; &amp;&amp; (getline(line(&apos;.&apos;)-1) =~# p || getline(line(&apos;.&apos;)+1) =~# p)</div><div class="line">  let column = strlen(substitute(getline(&apos;.&apos;)[0:col(&apos;.&apos;)],&apos;[^|]&apos;,&apos;&apos;,&apos;g&apos;))</div><div class="line">  let position = strlen(matchstr(getline(&apos;.&apos;)[0:col(&apos;.&apos;)],&apos;.*|\s*\zs.*&apos;))</div><div class="line">  Tabularize/|/l1</div><div class="line">  normal! 0</div><div class="line">  call search(repeat(&apos;[^|]*|&apos;,column).&apos;\s\&#123;-\&#125;&apos;.repeat(&apos;.&apos;,position),&apos;ce&apos;,line(&apos;.&apos;))</div><div class="line"> endif</div><div class="line">endfunction</div><div class="line"></div><div class="line">&quot; airline</div><div class="line">let g:airline_powerline_fonts = 1</div><div class="line"></div><div class="line">&quot; YouCompleteMe</div><div class="line">let g:ycm_error_symbol = &apos;&gt;&gt;&apos;</div><div class="line">let g:ycm_warning_symbol = &apos;&gt;*&apos;</div><div class="line"></div><div class="line">&quot; ctrlp</div><div class="line">let g:ctrlp_map = &apos;&lt;c-p&gt;&apos;</div><div class="line">let g:ctrlp_cmd = &apos;CtrlP&apos;</div><div class="line">let g:ctrlp_working_path_mode = &apos;ra&apos;</div><div class="line">set wildignore+=*/tmp/*,*.so,*.swp,*.zip</div><div class="line"></div><div class="line">let g:ctrlp_custom_ignore = &apos;\v[\/]\.(git|hg|svn)$&apos;</div><div class="line">let g:ctrlp_user_command = &apos;find %s -type f&apos;</div></pre></td></tr></table></figure>
<p><em>更多更新后的配置内容可以查看我的 <a href="https://github.com/iLeyar/Document/blob/master/.vimrc" target="_blank" rel="external">GitHub</a></em></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>关于 vim 还有很多需要慢慢研究的和学习的地方，边用边研究吧。Enjoy~</p>
</div></article></div></main><footer><div class="paginator"><a href="/Digitalocean-vps-nginx-setup/" class="prev">PREV</a><a href="/Install-ubuntu-with-harddisk-under-xp-system/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'ileyar';
var disqus_identifier = 'Something-about-vim/';
var disqus_title = 'Ubuntu 上 vim 使用及其配置';
var disqus_url = 'http://www.leyar.me/Something-about-vim/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ileyar.disqus.com/count.js" async></script><div class="copyright"><p>© 2011 - 2018 <a href="http://www.leyar.me">Leyar</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-74627504-2",'auto');ga('send','pageview');</script></body></html>