<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Leyar's Notebook</title><meta name="description" content="关于学习，关于分享。"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.leyar.me/atom.xml" title="Leyar's Notebook"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/iLeyar" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/openwrt-ssh-key/" class="post-title-link">使用密钥登陆 OpenWrt</a></h2><div class="post-info">2016年2月19日</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近 ss 线路总是不稳定，时不时需要 ssh 到路由器检查系统日志，这就增加了密码输入的次数，这对于享受惯了 ssh-key 便利性的我来说简直不要太麻烦。遂决定路由器上也使用 ssh-key。</p>
<blockquote>
<p>使用 key 验证登陆的优点：（这里引用 <a href="https://wiki.openwrt.org/oldwiki/dropbearpublickeyauthenticationhowto">OpenWrt官方</a>的描述）</p>
<ul>
<li>you no longer have to type the password,</li>
<li>less effort to log in,</li>
<li>less times for it to be seen on your fingers by others,</li>
<li>easier to automate things like SCP or remote commands,</li>
<li>the password is no longer sent encrypted to OpenWrt,</li>
<li>less likely for an eavesdropper to capture it,</li>
<li>allows you to turn off password authentication,</li>
<li>impossible for an attacker to guess your password on OpenWrt.</li>
</ul>
</blockquote>
<p>优点这么多，赶紧来试试吧～</p></div><a href="/openwrt-ssh-key/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/hexo-nginx-403-forbidden/" class="post-title-link">Hexo 出现 Nginx 403 错误</a></h2><div class="post-info">2016年2月15日</div><div class="post-content"><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>2.14 号情人节那天正式将生活博客迁移到 Hexo 上。根据官方文档操作一路都很顺畅没有出现大的问题。现在就差将评论也迁移到 Disqus 上了。</p>
<p>将域名解析过来并配置好了 Ngix 之后，新博客也正常启动起来。但问题来了，这个博客却无法访问了。提示 403 错误。</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>Google 了下出现这个错误的可能原因主要有两点：</p>
<ul>
<li>索引文件（例如 index.html）缺失</li>
<li>权限配置问题</div><a href="/hexo-nginx-403-forbidden/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/hexo-deploy-to-git-error/" class="post-title-link">Hexo 部署到 GitHub 出错</a></h2><div class="post-info">2016年2月15日</div><div class="post-content"><p>我在新的笔记本上安装了 Arch，并且将个人文件夹备份了过来，其中包含 ssh 的配置文件以及 hexo 的文件夹。</p>
<h2 id="简易安装"><a href="#简易安装" class="headerlink" title="简易安装"></a>简易安装</h2><p>经过安装 Git，通过<code>nvm</code> 安装 Node.js，然后安装 Hexo，并且配置 Git ，简略步骤如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo pacman -S git</div><div class="line">$ git config --global user.name <span class="string">"leyar"</span></div><div class="line">$ git config --global user.email <span class="string">"leyar.me@gmail.com"</span></div><div class="line">$ git <span class="built_in">clone</span> https://github.com/creationix/nvm.git ~/.nvm &amp;&amp; <span class="built_in">cd</span> ~/.nvm &amp;&amp; git checkout `git describe --abbrev=0 --tags`</div><div class="line">. ~/.nvm/nvm.sh</div></pre></td></tr></table></figure>
<p>将以下内容添加进<code>~/.zshrc</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">"<span class="variable">$HOME</span>/.nvm"</span></div><div class="line">[ <span class="_">-s</span> <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; . <span class="string">"<span class="variable">$NVM_DIR</span>/nvm.sh"</span> <span class="comment"># This loads nvm</span></div></pre></td></tr></table></figure></p></div><a href="/hexo-deploy-to-git-error/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/about-fcitx-pinyin-input/" class="post-title-link">关于 Archlinux 下使用 fcitx 拼音输入法失效的解决办法</a></h2><div class="post-info">2015年11月9日</div><div class="post-content"></div><a href="/about-fcitx-pinyin-input/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/resolve-the-issue-about-Permission-denied/" class="post-title-link">CentOS 7 新建用户密钥验证问题</a></h2><div class="post-info">2015年8月1日</div><div class="post-content"><blockquote>
<p>之前一直使用的 root 帐号来登录管理我的其中一个 vps，虽然开启了仅密钥验证，但这也只是一道锁，不知道哪天密钥就被破了。遂决定把这个安全隐患先解决掉。<br>VPS 系统：CentOS 7 64bit</p>
</blockquote>
<h2 id="新建用户并加进管理组"><a href="#新建用户并加进管理组" class="headerlink" title="新建用户并加进管理组"></a>新建用户并加进管理组</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">adduser *username*</div><div class="line">passwd *username*</div><div class="line">gpasswd <span class="_">-a</span> *username* wheel</div></pre></td></tr></table></figure></div><a href="/resolve-the-issue-about-Permission-denied/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/optimize-the-shadowsocks/" class="post-title-link">Shadowsocks 之优化篇</a></h2><div class="post-info">2015年8月1日</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>优化 Shadowsocks server 的前提条件是内核版本在 3.5 以上，可通过<code>uname -ir</code>查看当前内核版本，如果版本过低，需要升级。</p>
<p>以下我的 VPS 内核版本升级的简单步骤：</p>
<blockquote>
<p>   VPS ： Digitalocean and Linode<br>   系统版本： CentOS 7 64bit<br></div><a href="/optimize-the-shadowsocks/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/install-the-shadowsocks/" class="post-title-link">Shadowsocks 之安装篇</a></h2><div class="post-info">2015年8月1日</div><div class="post-content"><blockquote>
<p>版本： Python 版<br>加密方式： Chacha20<br>推荐安装 <a href="http://www.leyar.me/Compile-shadowsocks-libev-in-CentOS7/">Shadowsocks-libev</a> 版本</p>
</blockquote>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><h3 id="安装-shadowsocks"><a href="#安装-shadowsocks" class="headerlink" title="安装 shadowsocks"></a>安装 shadowsocks</h3><p>Debian/Ubuntu:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-pip</div><div class="line">$ sudo pip install shadowsocks</div></pre></td></tr></table></figure></p>
<p>CentOS 7(于2016-2-5更新)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ sudo yum -y update</div><div class="line">$ sudo yum -y install python-pip</div><div class="line">$ pip install --upgrade pip</div><div class="line">$ sudo pip install shadowsocks</div></pre></td></tr></table></figure></p></div><a href="/install-the-shadowsocks/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/netgear-wndr4300-openwrt-shadowsocks/" class="post-title-link">NETGEAR WNDR4300 折腾之 OpenWrt + dnsmasq + SS</a></h2><div class="post-info">2015年8月1日</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直想入手一个可以刷 <a href="http://wiki.openwrt.org/toh/netgear/wndr4300">OpenWrt</a> 的路由器，国内的不考虑，国外的看中了两款，NETGEAR 的 WNDR4300 以及 linksys 的 E4200，E4200 貌似不能刷 OpenWrt，而且国内也没有地方可以买到。于是 WNDR4300 成了不二之选。</p>
<p>这里记录下我的刷机并且实现自动科学上网的过程.</p>
<blockquote>
<p>本机系统环境： Archlinux<br><a href="https://sourceforge.net/p/openwrt-dist/wiki/DNS/">防 DNS 劫持</a>方案: dnsmasq 搭配 ss-tunnel<br>针对 IP 封锁：搭配 ignore.list 列表<br></div><a href="/netgear-wndr4300-openwrt-shadowsocks/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/setting-up-dns-server-on-centos7/" class="post-title-link">CentOS7 上使用 pdnsd 搭建 DNS 服务器</a></h2><div class="post-info">2015年7月30日</div><div class="post-content"><p>最近在折腾路由器（后续再把自己的步骤记录一下）其中涉及到防 DNS 污染的问<br>题，优化方案我选择了在自己的 VPS 上搭建 DNS 服务器。这里记录下我的搭建过<br>程。</p>
<p>系统： CentOS 7 64bit</p>
<h2 id="安装-pdnsd"><a href="#安装-pdnsd" class="headerlink" title="安装 pdnsd"></a>安装 pdnsd</h2><p>到官方<a href="http://members.home.nl/p.a.rombouts/pdnsd/dl.html">pdnsd Download Page</a>下载最新版本 rpm 包，截至今日（2015-7-30）最新版本为 1.2.9：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://members.home.nl/p.a.rombouts/pdnsd/releases/pdnsd-1.2.9a-par_sl6.x86_64.rpm</div></pre></td></tr></table></figure></p>
<p>然后通过 yum 安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum localinstall pdnsd-1.2.9a-par_sl6.x86_64.rpm</div></pre></td></tr></table></figure></p>
<p>如此安装完成。<br></div><a href="/setting-up-dns-server-on-centos7/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/installation-of-archlinux/" class="post-title-link">Archlinux 安装笔记</a></h2><div class="post-info">2015年7月28日</div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前就打算将 Ubuntu 换成 Archlinux，但这个计划一直被搁置，直到把双系统中的<br>Windows 换成了 Windows 10，才决定顺便一起将 Ubuntu 也换了。</p>
<p>安装方法参考的官方 <a href="https://wiki.archlinux.org/index.php/Main_page">Wiki</a>，<br>完全在文字界面下安装，以便更深入的认识 Linux。这里简单记录下我的安装过程。<br></div><a href="/installation-of-archlinux/" class="read-more">...more</a></article></li></ul></main><footer><div class="paginator"><a href="/" class="prev">PREV</a><a href="/page/3/" class="next">NEXT</a></div><div class="copyright"><p>© 2011 - 2017 <a href="http://www.leyar.me">Leyar</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-74627504-2",'auto');ga('send','pageview');</script></body></html>